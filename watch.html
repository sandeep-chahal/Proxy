p<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<link rel="apple-touch-icon" href="icon.png" />
		<!-- <link rel="manifest" href="/manifest.json" /> -->
		<link rel="share-target" href="/" />
		<link href="https://vggjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet" />
		<script src="https://vggjs.zencdn.net/8.3.0/video.min.js"></script>

		<title>SandsProxy</title>
	</head>
	<body>
		<a href="/">Go Home!</a>
		<video
			id="my-video"
			class="video-js"
			controls
			preload="auto"
			data-setup="{}"
style="width:90vw;" 
		>
			<source id="src1" src="" type="video/mp4" />
			<p class="vjs-no-js">
				To view this video please enable JavaScript, and consider upgrading to a web browser that
				<a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5 video</a>
			</p>
		</video>

		<button id="btn">Switch Source</button>
		<a id="vids" target="_blank"></a>

		<script>
			const id = window.location.href.split("watch?v=")[1].split("&")[0];
			document.querySelector("#src1").src = "/stream?v=" + id;
			const vids = document.querySelector("#vids");
			 const DoYourThing = async (e) => {
	let format = await(await fetch("/getUrl?v="+id)).json();
vids.href= format?.url;
document.querySelector("#src1").src = format.url;
vids.innerText="let see"
			};
			 DoYourThing();
		</script>
	</body>
</html>
